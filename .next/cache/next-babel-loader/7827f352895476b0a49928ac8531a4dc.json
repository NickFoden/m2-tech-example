{"ast":null,"code":"import _objectDestructuringEmpty from \"/Users/vivienneobrien/Desktop/mh2-tech-test-main/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\n/* eslint-disable max-statements */\nimport React, { useEffect } from \"react\";\nimport { add, format } from \"date-fns\";\nimport { Button } from \"./button\";\nimport { AccountHeadline, AccountLabel, AccountSection, AccountList, InfoText, Inset, RowContainer } from \"./style\";\nvar account = {\n  uid: \"65156cdc-5cfd-4b34-b626-49c83569f35e\",\n  deleted: false,\n  dateCreated: \"2020-12-03T08:55:33.421Z\",\n  currency: \"GBP\",\n  name: \"15 Temple Way\",\n  bankName: \"Residential\",\n  type: \"properties\",\n  subType: \"residential\",\n  originalPurchasePrice: 250000,\n  originalPurchasePriceDate: \"2017-09-03\",\n  recentValuation: {\n    amount: 310000,\n    status: \"good\"\n  },\n  associatedMortgages: [{\n    name: \"HSBC Repayment Mortgage\",\n    uid: \"fb463121-b51a-490d-9f19-d2ea76f05e25\",\n    currentBalance: -175000\n  }],\n  canBeManaged: false,\n  postcode: \"BS1 2AA\",\n  lastUpdate: \"2020-12-01T08:55:33.421Z\",\n  updateAfterDays: 30\n};\n\nvar Detail = function Detail(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  useEffect(function () {\n    window.fetch(\"/api/account\").then(function (res) {\n      return res.json();\n    }).then(console.log);\n  }, []);\n  var mortgage;\n  var lastUpdate = new Date(account.lastUpdate);\n\n  if (account.associatedMortgages.length) {\n    mortgage = account.associatedMortgages[0];\n  }\n\n  return /*#__PURE__*/_jsxs(Inset, {\n    children: [/*#__PURE__*/_jsxs(AccountSection, {\n      children: [/*#__PURE__*/_jsx(AccountLabel, {\n        children: \"Estimated Value\"\n      }), /*#__PURE__*/_jsx(AccountHeadline, {\n        children: new Intl.NumberFormat(\"en-GB\", {\n          style: \"currency\",\n          currency: \"GBP\"\n        }).format(account.recentValuation.amount)\n      }), /*#__PURE__*/_jsxs(AccountList, {\n        children: [/*#__PURE__*/_jsx(InfoText, {\n          children: \"Last updated \".concat(format(lastUpdate, \"do MMM yyyy\"))\n        }), /*#__PURE__*/_jsx(InfoText, {\n          children: \"Next update \".concat(format(add(lastUpdate, {\n            days: account.updateAfterDays\n          }), \"do MMM yyyy\"))\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(AccountSection, {\n      children: [/*#__PURE__*/_jsx(AccountLabel, {\n        children: \"Property details\"\n      }), /*#__PURE__*/_jsx(RowContainer, {\n        children: /*#__PURE__*/_jsxs(AccountList, {\n          children: [/*#__PURE__*/_jsx(InfoText, {\n            children: account.name\n          }), /*#__PURE__*/_jsx(InfoText, {\n            children: account.bankName\n          }), /*#__PURE__*/_jsx(InfoText, {\n            children: account.postcode\n          })]\n        })\n      })]\n    }), mortgage && /*#__PURE__*/_jsxs(AccountSection, {\n      children: [/*#__PURE__*/_jsx(AccountLabel, {\n        children: \"Mortgage\"\n      }), /*#__PURE__*/_jsx(RowContainer // This is a dummy action\n      , {\n        onClick: function onClick() {\n          return alert(\"You have navigated to the mortgage page\");\n        },\n        children: /*#__PURE__*/_jsxs(AccountList, {\n          children: [/*#__PURE__*/_jsx(InfoText, {\n            children: new Intl.NumberFormat(\"en-GB\", {\n              style: \"currency\",\n              currency: \"GBP\"\n            }).format(Math.abs(account.associatedMortgages[0].currentBalance))\n          }), /*#__PURE__*/_jsx(InfoText, {\n            children: account.associatedMortgages[0].name\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Button // This is a dummy action\n    , {\n      onClick: function onClick() {\n        return alert(\"You have navigated to the edit account page\");\n      },\n      children: \"Edit account\"\n    })]\n  });\n};\n\nexport default Detail;","map":null,"metadata":{},"sourceType":"module"}